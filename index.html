<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Swift Bill POS </title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/billing.css">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="pos-header">
            <h1>Udupi Krishnam Veg</h1>
            <div class="header-info">
                <span id="current-date"></span>
                <span id="current-time"></span>
            </div>
        </header>

        <!-- Main Content Area -->
        <main id="main-content">
            <!-- Service Type Selector (Default) -->
            <div id="service-selector-screen" class="screen active">
                <h2>Select Service Type</h2>
                <div class="service-type-grid">
                    <div class="service-card" id="table-service-btn">
                        <div class="service-icon">üçΩÔ∏è</div>
                        <div class="service-title">Table Service</div>
                        <div class="service-description">Table Service Bills</div>
                    </div>
                    <div class="service-card" id="counter-service-btn">
                        <div class="service-icon">ü•°</div>
                        <div class="service-title">Counter Billing</div>
                        <div class="service-description">Counter Bills</div>
                    </div>
                </div>
            </div>

            <!-- Table Selector Screen -->
            <div id="table-selector-screen" class="screen">
                <div class="screen-header">
                    <button id="back-to-service" class="btn btn-secondary">‚Üê Back to Service Types</button>
                    <h2>Select Table</h2>
                </div>
                <div id="tables-grid" class="tables-grid">
                    <!-- Tables will be dynamically generated -->
                </div>
            </div>

            <!-- Counter Selector Screen -->
            <div id="counter-selector-screen" class="screen">
                <div class="screen-header">
                    <button id="back-to-service-counter" class="btn btn-secondary">‚Üê Back to Service Types</button>
                    <h2>Select Counter</h2>
                </div>
                <div id="counters-grid" class="counters-grid">
                    <!-- Counters will be dynamically generated -->
                </div>
            </div>

            <!-- Billing Screen (Hidden by default) -->
            <div id="billing-screen" class="screen">
                <div class="billing-header">
                    <button id="back-to-tables" class="btn btn-secondary">‚Üê Back</button>
                    <h2 id="current-location">Table 1</h2>
                    <div class="billing-mode-indicator">
                        <span id="billing-mode-text">Table Service</span>
                    </div>
                    <div class="billing-actions">
                        <button id="manage-menu" class="btn btn-primary">üìã Menu Manager</button>
                        <button id="print-order" class="btn btn-success">üñ® Print</button>
                    </div>
                </div>
                
                <div class="billing-content">
                    <!-- Menu Items Grid -->
                    <div class="menu-section">
                        <h3>Menu Items</h3>
                        
                        <!-- Search Bar -->
                        <div class="search-container">
                            <input type="text" id="menu-search" placeholder="üîç Search menu items... (Press / for quick search)" autocomplete="off">
                            <div id="search-results" class="search-results-dropdown">
                                <!-- Search results will appear here -->
                            </div>
                        </div>
                        
                        <div id="menu-grid" class="menu-grid">
                            <!-- Menu items will be loaded here -->
                        </div>
                    </div>

                    <!-- Order Summary -->
                    <div class="order-section">
                        <h3>Current Order</h3>
                        <div id="order-items" class="order-items">
                            <!-- Order items will appear here -->
                        </div>
                        <div class="order-total">
                            <div class="total-line">
                                <span>Subtotal:</span>
                                <span id="subtotal">‚Çπ0.00</span>
                            </div>
                            <div class="total-line">
                                <span>Tax (5%):</span>
                                <span id="tax">‚Çπ0.00</span>
                            </div>
                            <!-- Selective Parcel Charges Summary -->
                            <div class="total-line parcel-charge-line" id="parcel-summary-line" style="display: none;">
                                <span>Parcel Charges:</span>
                                <span id="parcel-charge-amount" class="parcel-charge-amount"></span>
                            </div>
                            <div class="total-line total-final">
                                <span>Total:</span>
                                <span id="total">‚Çπ0.00</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Earnings Screen -->
        </main>

        <!-- MenuManager Modal -->
        <div id="menu-manager-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>üçΩÔ∏è Menu Manager</h2>
                    <button id="close-menu-manager" class="modal-close">&times;</button>
                </div>
                
                <!-- Tab Navigation -->
                <div class="modal-tabs">
                    <button class="tab-btn active" data-tab="menu-items">üçΩÔ∏è Menu Items</button>
                    <button class="tab-btn" data-tab="settings">‚öôÔ∏è Settings</button>
                </div>
                
                <div class="modal-body">
                    <!-- Menu Items Tab -->
                    <div id="menu-items-tab" class="tab-content active">
                    <!-- Add New Item Section -->
                    <div class="menu-manager-section">
                        <h3>‚ûï Add New Menu Item</h3>
                        <form id="add-item-form" class="item-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="item-name">Item Name *</label>
                                    <input type="text" id="item-name" name="name" required maxlength="50" placeholder="Enter item name">
                                </div>
                                <div class="form-group">
                                    <label for="item-price">Price (‚Çπ) *</label>
                                    <input type="number" id="item-price" name="price" required min="1" max="9999" step="0.01" placeholder="0.00">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="item-category">Category *</label>
                                    <select id="item-category" name="category" required>
                                        <option value="">Select Category</option>
                                        <!-- Categories will be populated dynamically -->
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="item-enabled">Status</label>
                                    <select id="item-enabled" name="enabled">
                                        <option value="true">‚úÖ Enabled</option>
                                        <option value="false">‚ùå Disabled</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn-success">‚úÖ Add Item</button>
                                <button type="button" id="clear-form" class="btn btn-secondary">üóëÔ∏è Clear</button>
                            </div>
                        </form>
                    </div>

                    <!-- Menu Items List Section -->
                    <div class="menu-manager-section">
                        <div class="section-header">
                            <h3>üìã Manage Menu Items</h3>
                            <div class="menu-filters">
                                <select id="filter-category" class="filter-select">
                                    <option value="all">All Categories</option>
                                </select>
                                <select id="filter-status" class="filter-select">
                                    <option value="all">All Status</option>
                                    <option value="enabled">‚úÖ Enabled Only</option>
                                    <option value="disabled">‚ùå Disabled Only</option>
                                </select>
                                <input type="text" id="search-items" placeholder="üîç Search items..." class="search-input">
                            </div>
                        </div>
                        
                        <div id="menu-items-list" class="menu-items-list">
                            <!-- Menu items will be populated here -->
                        </div>
                    </div>
                    </div>

                    <!-- Settings Tab -->
                    <div id="settings-tab" class="tab-content">
                        <div class="menu-manager-section">
                            <h3>üè™ Restaurant Information</h3>
                            <div class="settings-form">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="restaurant-name">Restaurant Name</label>
                                        <input type="text" id="restaurant-name" name="restaurantName" 
                                               placeholder="Enter restaurant name" maxlength="50">
                                    </div>
                                    <div class="form-group">
                                        <label for="restaurant-contact">Contact Number</label>
                                        <input type="text" id="restaurant-contact" name="restaurantContact" 
                                               placeholder="Enter contact number" maxlength="20">
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="restaurant-address">Address</label>
                                        <textarea id="restaurant-address" name="restaurantAddress" 
                                                  placeholder="Enter restaurant address" maxlength="200" rows="3"></textarea>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="restaurant-gstin">GSTIN</label>
                                        <input type="text" id="restaurant-gstin" name="restaurantGstin" 
                                               placeholder="Enter GSTIN" maxlength="30">
                                    </div>
                                    <div class="form-group">
                                        <label for="restaurant-fssai">FSSAI Number</label>
                                        <input type="text" id="restaurant-fssai" name="restaurantFssai" 
                                               placeholder="Enter FSSAI number" maxlength="30">
                                    </div>
                                </div>
                                <div class="form-actions">
                                    <button type="button" id="save-restaurant-settings" class="btn btn-success">‚úÖ Save Restaurant Info</button>
                                    <button type="button" id="reset-restaurant-settings" class="btn btn-secondary">üîÑ Reset</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal-footer">
                    <div class="modal-stats">
                        <span id="items-count">0 items</span>
                        <span id="enabled-count">0 enabled</span>
                        <span id="disabled-count">0 disabled</span>
                    </div>
                    <button id="save-menu-changes" class="btn btn-primary">üíæ Save Changes</button>
                </div>
            </div>
        </div>

        <!-- Edit Item Modal -->
        <div id="edit-item-modal" class="modal">
            <div class="modal-content modal-small">
                <div class="modal-header">
                    <h2>‚úèÔ∏è Edit Menu Item</h2>
                    <button id="close-edit-item" class="modal-close">&times;</button>
                </div>
                
                <div class="modal-body">
                    <form id="edit-item-form" class="item-form">
                        <input type="hidden" id="edit-item-id" name="id">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit-item-name">Item Name *</label>
                                <input type="text" id="edit-item-name" name="name" required maxlength="50">
                            </div>
                            <div class="form-group">
                                <label for="edit-item-price">Price (‚Çπ) *</label>
                                <input type="number" id="edit-item-price" name="price" required min="1" max="9999" step="0.01">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit-item-category">Category *</label>
                                <select id="edit-item-category" name="category" required>
                                    <!-- Categories will be populated dynamically -->
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="edit-item-enabled">Status</label>
                                <select id="edit-item-enabled" name="enabled">
                                    <option value="true">‚úÖ Enabled</option>
                                    <option value="false">‚ùå Disabled</option>
                                </select>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="modal-footer">
                    <button id="cancel-edit" class="btn btn-secondary">‚ùå Cancel</button>
                    <button id="save-edit" class="btn btn-success">‚úÖ Save Changes</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="renderer.js"></script>
</body>
</html>
